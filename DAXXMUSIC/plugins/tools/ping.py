import random
from datetime import datetime
from pyrogram import filters
from pyrogram.types import Message, InlineKeyboardMarkup, InlineKeyboardButton
from DAXXMUSIC import app

from config import BANNED_USERS
import config

DEV_OP = [
    [
        InlineKeyboardButton(text="ü•Ä ·¥è·¥°…¥·¥á Ä ü•Ä", user_id=config.OWNER_ID),
        InlineKeyboardButton(text="‚ú® Íú±·¥ú·¥ò·¥ò·¥è Ä·¥õ ‚ú®", url=config.SUPPORT_CHANNEL),
    ],
    [
        InlineKeyboardButton(
            text="‚ú¶ ·¥Ä·¥Ö·¥Ö ·¥ç·¥á  ô·¥Ä ô è ‚ú¶",
            url=f"https://t.me/{app.username}?startgroup=true",
        ),
    ],
    [
        InlineKeyboardButton(text="¬´  ú·¥á ü·¥ò ¬ª", callback_data="settings_back_helper"),
    ],
    
]

# Random Start Images
IMG = [
    "https://graph.org/file/210751796ff48991b86a3.jpg",
    "https://graph.org/file/7b4924be4179f70abcf33.jpg",
    "https://graph.org/file/f6d8e64246bddc26b4f66.jpg",
    "https://graph.org/file/63d3ec1ca2c965d6ef210.jpg",
    "https://graph.org/file/9f12dc2a668d40875deb5.jpg",
    "https://graph.org/file/0f89cd8d55fd9bb5130e1.jpg",
    "https://graph.org/file/e5eb7673737ada9679b47.jpg",
    "https://graph.org/file/2e4dfe1fa5185c7ff1bfd.jpg",
    "https://graph.org/file/36af423228372b8899f20.jpg",
    "https://graph.org/file/c698fa9b221772c2a4f3a.jpg",
    "https://graph.org/file/61b08f41855afd9bed0ab.jpg",
    "https://graph.org/file/744b1a83aac76cb3779eb.jpg",
    "https://graph.org/file/814cd9a25dd78480d0ce1.jpg",
    "https://graph.org/file/e8b472bcfa6680f6c6a5d.jpg",
]


#----------------IMG-------------#

#---------------STICKERS---------------#

# Random Stickers
STICKER = [
    "CAACAgUAAx0CYlaJawABBy4vZaieO6T-Ayg3mD-JP-f0yxJngIkAAv0JAALVS_FWQY7kbQSaI-geBA",
    "CAACAgUAAx0CYlaJawABBy4rZaid77Tf70SV_CfjmbMgdJyVD8sAApwLAALGXCFXmCx8ZC5nlfQeBA",
    "CAACAgUAAx0CYlaJawABBy4jZaidvIXNPYnpAjNnKgzaHmh3cvoAAiwIAAIda2lVNdNI2QABHuVVHgQ",
]

#---------------STICKERS---------------#



@app.on_message(filters.command("ping", prefixes=["/", "!", "%", ",", "", ".", "@", "#"]) & ~BANNED_USERS)

async def ping(_, message: Message):
    await message.reply_sticker(sticker=random.choice(STICKER))
    start = datetime.now()
    loda = await message.reply_photo(
        photo=random.choice(IMG),
        caption="·¥ò…™…¥…¢…™…¥…¢...",
    )
    try:
        await message.delete()
    except:
        pass

    ms = (datetime.now() - start).microseconds / 1000
    await loda.edit_text(
        text=f"–Ωey –≤Œ±–≤—É!!\n{app.mention} Œπ—ï alŒπve ü•Ä Œ±nd worƒ∏Œπng “ìŒπne wŒπ—Ç–Ω a pŒπng o“ì\n‚û• `{ms}` ms",
        reply_markup=InlineKeyboardMarkup(DEV_OP),
    )
    
    
